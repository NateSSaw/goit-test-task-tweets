"use strict";(self.webpackChunkgoit_test_task_tweets=self.webpackChunkgoit_test_task_tweets||[]).push([[492],{492:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(433),s=n(439),c=n(791);var i={getTweets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="https://6456da1e5f9a4f23614d2d7b.mockapi.io/tweets",n="limit=4";return fetch("".concat(t,"?page=").concat(e,"&").concat(n)).then((function(e){return e.ok?e.json():Promise.reject(new Error("No response from server"))}))}},a=i;var o=n.p+"static/media/logo.fd4ef749d37f796c02d5c218abefbc99.svg",u=n(765),d=n(184),l=function(e){return e.tweets.map((function(e){var t=e.id,n=e.user,r=e.tweets,s=e.followers,c=e.avatar;return(0,d.jsxs)("li",{className:"card",children:[(0,d.jsx)("img",{src:o,alt:"logo"}),(0,d.jsx)("img",{src:u,alt:"messages"}),(0,d.jsx)("img",{className:"ImageGalleryItem-image",src:c,alt:n}),(0,d.jsx)("span",{children:r}),(0,d.jsx)("span",{children:"TWEETS"}),(0,d.jsx)("span",{children:s}),(0,d.jsx)("span",{children:"FOLLOWERS"}),(0,d.jsx)("button",{children:"Follow"})]},t)}))},f=function(e){var t=e.onClick;return(0,d.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})};function h(){var e=(0,c.useState)([]),t=(0,s.Z)(e,2),n=t[0],i=t[1],o=(0,c.useState)(1),u=(0,s.Z)(o,2),h=u[0],j=u[1],g=(0,c.useState)("idle"),m=(0,s.Z)(g,2),p=m[0],w=m[1],x=(0,c.useState)(null),v=(0,s.Z)(x,2),k=v[0],b=v[1];(0,c.useEffect)((function(){j(1),w("pending"),a.getTweets().then((function(e){if(!(e.length>0))return Promise.reject(new Error("Didn't find tweets"));i(e),j((function(e){return e+1})),w("resolved")})).catch((function(e){var t=e.message;b(t),w("rejected")}))}),[]);return"pending"===p?(0,d.jsx)("p",{children:" Loadind..."}):"rejected"===p?(0,d.jsxs)("div",{className:"Error",children:[(0,d.jsx)("h2",{className:"title",children:k}),(0,d.jsx)("img",{src:"https://www.2dsl.ru/wp-content/uploads/kak-ispravit-oshibku-404not-found-469152c.jpg",alt:"error 404",width:"1000",height:"1000"}),";"]}):"resolved"===p?(0,d.jsxs)("div",{children:[(0,d.jsx)("ul",{children:(0,d.jsx)(l,{tweets:n})}),(0,d.jsx)(f,{onClick:function(){a.getTweets(h).then((function(e){if(!(e.length>0))return Promise.reject(new Error("Didn't find more tweets"));i((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e))})),j((function(e){return e+1}))})).catch((function(e){var t=e.message;b(t),w("rejected")}))}})]}):void 0}function j(){return(0,d.jsx)("div",{children:(0,d.jsx)(h,{})})}},765:function(e,t,n){e.exports=n.p+"static/media/picture.92ac7be459c2a240dbba.png"}}]);
//# sourceMappingURL=492.e39035f5.chunk.js.map